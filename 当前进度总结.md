# LineageOS ç§»æ¤è¿›åº¦æ€»ç»“ - TB321FU (kirby)

## âœ… å·²å®Œæˆä»»åŠ¡

### 1. è®¾å¤‡è¿æ¥å’Œä¿¡æ¯æ”¶é›† âœ…
- âœ… æ— çº¿ ADB è¿æ¥æˆåŠŸ
- âœ… è®¾å¤‡ç¡¬ä»¶ä¿¡æ¯è·å–
  - å‹å·: TB321FU (kirby)
  - å¹³å°: pineapple (SM8650)
  - å±å¹•: 1600x2560, 400 DPI
  - Android 14 (API 34)

### 2. è®¾å¤‡æ ‘é…ç½® âœ…
- âœ… `BoardConfig.mk` - å®Œæ•´é…ç½®
- âœ… `device.mk` - è®¾å¤‡ç‰¹å®šé…ç½®
- âœ… `lineage_kirby.mk` - LineageOS äº§å“é…ç½®
- âœ… `AndroidProducts.mk` - äº§å“å®šä¹‰
- âœ… `system.prop` / `vendor.prop` - ç³»ç»Ÿå±æ€§
- âœ… `manifest.xml` - VINTF manifest

### 3. ä¸“æœ‰æ–‡ä»¶æå– âœ…
- âœ… è‡ªåŠ¨ç”Ÿæˆä¸“æœ‰æ–‡ä»¶åˆ—è¡¨ï¼ˆ645 ä¸ªæ–‡ä»¶ï¼‰
- âœ… æå–ä¸“æœ‰æ–‡ä»¶ï¼ˆ649 ä¸ªæ–‡ä»¶ï¼Œ125 MBï¼‰
- âœ… åˆ›å»ºæå–å·¥å…·
  - `extract-files.py`
  - `generate-proprietary-files.sh`

### 4. å†…æ ¸é›†æˆ âœ…
- âœ… å†…æ ¸æºç ç§»åŠ¨åˆ° `kernel/lenovo/kirby/`
- âœ… å†…æ ¸è·¯å¾„é…ç½®æ›´æ–°
  - `TARGET_KERNEL_SOURCE := kernel/lenovo/kirby/kernel`
  - `TARGET_KERNEL_CONFIG := kirby_defconfig`
- âœ… å†…æ ¸é…ç½®æ–‡ä»¶éªŒè¯ï¼ˆkirby_defconfig å­˜åœ¨ï¼‰

### 5. SELinux ç­–ç•¥ç»“æ„ âœ…
- âœ… åˆ›å»º SELinux ç›®å½•ç»“æ„
  - `sepolicy/vendor/`
  - `sepolicy/private/`
  - `sepolicy/public/`

### 6. Vendor é…ç½® âœ…
- âœ… Vendor makefile åˆ›å»º
- âœ… ä¸“æœ‰æ–‡ä»¶ç»„ç»‡å®Œæˆ

---

## ğŸ“Š æ–‡ä»¶ç»Ÿè®¡

### è®¾å¤‡æ ‘æ–‡ä»¶
- é…ç½®æ–‡ä»¶: 10+ ä¸ª
- ä¸“æœ‰æ–‡ä»¶åˆ—è¡¨: 645 è¡Œ

### ä¸“æœ‰æ–‡ä»¶
- æ€»æ–‡ä»¶æ•°: 649 ä¸ª
- æ€»å¤§å°: 125 MB
- åº“æ–‡ä»¶ (.so): 67 ä¸ª
- é…ç½®æ–‡ä»¶: 577 ä¸ª
- å¯æ‰§è¡Œæ–‡ä»¶: 1 ä¸ª

### å†…æ ¸æºç 
- å†…æ ¸ç‰ˆæœ¬: 6.1.68
- é…ç½®: kirby_defconfig
- æ¶æ„: arm64

---

## â³ å¾…å®Œæˆä»»åŠ¡

### 1. SELinux ç­–ç•¥ç¼–å†™
- â³ åˆ›å»ºè®¾å¤‡ç‰¹å®šçš„ SELinux è§„åˆ™
- â³ æµ‹è¯• SELinux ç­–ç•¥

### 2. åˆ†åŒºå¤§å°éªŒè¯
- â³ é€šè¿‡ fastboot è·å–å®é™…åˆ†åŒºå¤§å°
- â³ éªŒè¯å¹¶æ›´æ–° BoardConfig.mk ä¸­çš„åˆ†åŒºé…ç½®

### 3. é¦–æ¬¡æ„å»ºå‡†å¤‡
- â³ åˆå§‹åŒ– LineageOS æºç ä»“åº“
- â³ åŒæ­¥è®¾å¤‡æ ‘å’Œå†…æ ¸åˆ°æºç æ ‘
- â³ é…ç½®æ„å»ºç¯å¢ƒ

### 4. é¦–æ¬¡æ„å»ºæµ‹è¯•
- â³ æ‰§è¡Œé¦–æ¬¡æ„å»º
- â³ è§£å†³æ„å»ºé”™è¯¯
- â³ è°ƒè¯•ç¡¬ä»¶ç›¸å…³é—®é¢˜

---

## ğŸ“ ç›®å½•ç»“æ„

```
Y700-Gen3-Droidian/
â”œâ”€â”€ device/lenovo/kirby/
â”‚   â”œâ”€â”€ BoardConfig.mk              âœ…
â”‚   â”œâ”€â”€ device.mk                   âœ…
â”‚   â”œâ”€â”€ lineage_kirby.mk            âœ…
â”‚   â”œâ”€â”€ AndroidProducts.mk          âœ…
â”‚   â”œâ”€â”€ Android.bp                  âœ…
â”‚   â”œâ”€â”€ system.prop                 âœ…
â”‚   â”œâ”€â”€ vendor.prop                 âœ…
â”‚   â”œâ”€â”€ manifest.xml                âœ…
â”‚   â”œâ”€â”€ extract-files.py            âœ…
â”‚   â”œâ”€â”€ generate-proprietary-files.sh âœ…
â”‚   â”œâ”€â”€ proprietary-files.txt       âœ…
â”‚   â””â”€â”€ sepolicy/                   âœ…
â”‚       â”œâ”€â”€ vendor/
â”‚       â”œâ”€â”€ private/
â”‚       â””â”€â”€ public/
â”‚
â”œâ”€â”€ kernel/lenovo/kirby/            âœ…
â”‚   â”œâ”€â”€ kernel/
â”‚   â”‚   â””â”€â”€ arch/arm64/configs/
â”‚   â”‚       â””â”€â”€ kirby_defconfig     âœ…
â”‚   â””â”€â”€ prebuilts/
â”‚
â””â”€â”€ vendor/lenovo/kirby/            âœ…
    â”œâ”€â”€ kirby-vendor.mk             âœ…
    â”œâ”€â”€ kirby-vendor-blobs.mk       âœ…
    â””â”€â”€ [649 ä¸ªä¸“æœ‰æ–‡ä»¶]            âœ…
```

---

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’

1. **å®Œå–„ SELinux ç­–ç•¥**
   - å‚è€ƒ caihong (OnePlus Pad Pro) çš„ SELinux ç­–ç•¥
   - å‚è€ƒ asphalt (Y700 Gen 2) çš„ç­–ç•¥

2. **å‡†å¤‡æ„å»ºç¯å¢ƒ**
   - æŒ‰ç…§ LineageOS å®˜æ–¹æŒ‡å—è®¾ç½®æ„å»ºç¯å¢ƒ
   - åŒæ­¥æºç 

3. **é¦–æ¬¡æ„å»º**
   - æµ‹è¯•æ„å»ºæµç¨‹
   - è§£å†³é”™è¯¯

---

## ğŸ“ å‚è€ƒèµ„æº

- [LineageOS æ„å»ºæŒ‡å— - caihong](https://wiki.lineageos.org/devices/caihong/build/variant1/)
- [Y700 (asphalt) è®¾å¤‡æ ‘](https://github.com/lolipuru/android_device_lenovo_asphalt)
- å†…æ ¸æºç : `kernel/lenovo/kirby/`

---

æ›´æ–°æ—¶é—´: 2024-11-17
